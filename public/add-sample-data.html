<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Sample Routes - PAL Fitness</title>
  <style>
    body {
      font-family: system-ui, -apple-system, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    button {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px 10px 10px 0;
    }
    button:hover { background: #2563eb; }
    button.secondary {
      background: #6b7280;
    }
    button.secondary:hover { background: #4b5563; }
    button.danger {
      background: #ef4444;
    }
    button.danger:hover { background: #dc2626; }
    .success { 
      color: #059669; 
      background: #d1fae5; 
      padding: 15px; 
      border-radius: 6px; 
      margin: 20px 0;
    }
    .info {
      color: #0891b2;
      background: #cffafe;
      padding: 15px;
      border-radius: 6px;
      margin: 20px 0;
    }
    .route-list {
      margin-top: 20px;
    }
    .route-item {
      padding: 10px;
      background: #f9fafb;
      margin: 5px 0;
      border-radius: 4px;
      border-left: 4px solid #3b82f6;
    }
    .route-item.cycling {
      border-left-color: #10b981;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üèÉ‚Äç‚ôÇÔ∏è Add Sample Route Data</h1>
    <p>This tool will add 5 sample routes (3 runs and 2 rides) from the last two weeks to your PAL Fitness app.</p>
    
    <div id="message"></div>
    
    <button onclick="addSampleData()">Add Sample Routes</button>
    <button class="secondary" onclick="viewExistingRoutes()">View Existing Routes</button>
    <button class="danger" onclick="clearAllRoutes()">Clear All Routes</button>
    
    <div id="routes" class="route-list"></div>
  </div>

  <script>
    function generateRoutePoints(startLat, startLng, distance, bearing, variance = 0.0001) {
      const points = [];
      const numPoints = Math.floor(distance / 10);
      const earthRadius = 6371000;
      
      let currentLat = startLat;
      let currentLng = startLng;
      
      for (let i = 0; i < numPoints; i++) {
        const randomBearing = bearing + (Math.random() - 0.5) * 30;
        const stepDistance = 10;
        
        const bearingRad = (randomBearing * Math.PI) / 180;
        const lat1Rad = (currentLat * Math.PI) / 180;
        const lng1Rad = (currentLng * Math.PI) / 180;
        
        const lat2Rad = Math.asin(
          Math.sin(lat1Rad) * Math.cos(stepDistance / earthRadius) +
          Math.cos(lat1Rad) * Math.sin(stepDistance / earthRadius) * Math.cos(bearingRad)
        );
        
        const lng2Rad = lng1Rad + Math.atan2(
          Math.sin(bearingRad) * Math.sin(stepDistance / earthRadius) * Math.cos(lat1Rad),
          Math.cos(stepDistance / earthRadius) - Math.sin(lat1Rad) * Math.sin(lat2Rad)
        );
        
        currentLat = (lat2Rad * 180) / Math.PI;
        currentLng = (lng2Rad * 180) / Math.PI;
        
        points.push({
          latitude: currentLat + (Math.random() - 0.5) * variance,
          longitude: currentLng + (Math.random() - 0.5) * variance,
          timestamp: new Date(Date.now() + i * 1000),
          accuracy: 5 + Math.random() * 10,
          altitude: 50 + Math.random() * 20,
          speed: undefined,
        });
      }
      
      return points;
    }

    function addSampleData() {
      const now = Date.now();
      
      const sampleRoutes = [
        {
          id: `sample-${now}-0`,
          name: 'Morning Run - Marina Bay',
          activityType: 'running',
          totalDistance: 5200,
          duration: 1560,
          averageSpeed: 3.33,
          startTime: new Date(now - 14 * 24 * 60 * 60 * 1000 + 7 * 60 * 60 * 1000),
          endTime: new Date(now - 14 * 24 * 60 * 60 * 1000 + 7 * 60 * 60 * 1000 + 1560000),
          createdAt: new Date(now - 14 * 24 * 60 * 60 * 1000),
          points: generateRoutePoints(1.3521, 103.8198, 5200, 45),
        },
        {
          id: `sample-${now}-1`,
          name: 'East Coast Ride',
          activityType: 'cycling',
          totalDistance: 15000,
          duration: 2700,
          averageSpeed: 5.56,
          startTime: new Date(now - 12 * 24 * 60 * 60 * 1000 + 16 * 60 * 60 * 1000),
          endTime: new Date(now - 12 * 24 * 60 * 60 * 1000 + 16 * 60 * 60 * 1000 + 2700000),
          createdAt: new Date(now - 12 * 24 * 60 * 60 * 1000),
          points: generateRoutePoints(1.3048, 103.9180, 15000, 90),
        },
        {
          id: `sample-${now}-2`,
          name: 'Evening Interval Run',
          activityType: 'running',
          totalDistance: 8000,
          duration: 2280,
          averageSpeed: 3.51,
          startTime: new Date(now - 9 * 24 * 60 * 60 * 1000 + 18 * 60 * 60 * 1000),
          endTime: new Date(now - 9 * 24 * 60 * 60 * 1000 + 18 * 60 * 60 * 1000 + 2280000),
          createdAt: new Date(now - 9 * 24 * 60 * 60 * 1000),
          points: generateRoutePoints(1.3000, 103.8500, 8000, 180),
        },
        {
          id: `sample-${now}-3`,
          name: 'Weekend Long Ride',
          activityType: 'cycling',
          totalDistance: 25000,
          duration: 4500,
          averageSpeed: 5.56,
          startTime: new Date(now - 5 * 24 * 60 * 60 * 1000 + 8 * 60 * 60 * 1000),
          endTime: new Date(now - 5 * 24 * 60 * 60 * 1000 + 8 * 60 * 60 * 1000 + 4500000),
          createdAt: new Date(now - 5 * 24 * 60 * 60 * 1000),
          points: generateRoutePoints(1.3700, 103.8000, 25000, 270),
        },
        {
          id: `sample-${now}-4`,
          name: 'Recovery Run - Gardens',
          activityType: 'running',
          totalDistance: 3500,
          duration: 1260,
          averageSpeed: 2.78,
          startTime: new Date(now - 2 * 24 * 60 * 60 * 1000 + 6 * 60 * 60 * 1000),
          endTime: new Date(now - 2 * 24 * 60 * 60 * 1000 + 6 * 60 * 60 * 1000 + 1260000),
          createdAt: new Date(now - 2 * 24 * 60 * 60 * 1000),
          points: generateRoutePoints(1.2818, 103.8636, 3500, 135),
        },
      ];

      const existingRoutes = JSON.parse(localStorage.getItem('savedRoutes') || '[]');
      const allRoutes = [...sampleRoutes, ...existingRoutes];
      
      localStorage.setItem('savedRoutes', JSON.stringify(allRoutes));
      
      document.getElementById('message').innerHTML = `
        <div class="success">
          ‚úÖ Successfully added ${sampleRoutes.length} sample routes!<br>
          <small>Refresh your PAL Fitness app to see them.</small>
        </div>
      `;
      
      viewExistingRoutes();
    }

    function viewExistingRoutes() {
      const routes = JSON.parse(localStorage.getItem('savedRoutes') || '[]');
      const routesDiv = document.getElementById('routes');
      
      if (routes.length === 0) {
        routesDiv.innerHTML = '<div class="info">No routes found. Click "Add Sample Routes" to add some!</div>';
        return;
      }
      
      routesDiv.innerHTML = `
        <h3>Existing Routes (${routes.length})</h3>
        ${routes.map(route => `
          <div class="route-item ${route.activityType}">
            <strong>${route.name}</strong> (${route.activityType})<br>
            <small>
              ${(route.totalDistance / 1000).toFixed(2)} km ‚Ä¢ 
              ${Math.floor(route.duration / 60)} min ‚Ä¢ 
              ${route.points.length} GPS points ‚Ä¢ 
              ${new Date(route.startTime).toLocaleDateString()}
            </small>
          </div>
        `).join('')}
      `;
    }

    function clearAllRoutes() {
      if (confirm('Are you sure you want to delete ALL routes? This cannot be undone!')) {
        localStorage.removeItem('savedRoutes');
        document.getElementById('message').innerHTML = `
          <div class="info">
            All routes have been cleared.
          </div>
        `;
        viewExistingRoutes();
      }
    }

    // Load existing routes on page load
    viewExistingRoutes();
  </script>
</body>
</html>
